---
title: "Simplify installation"
subtitle: "Set the 'repos' option in .Rprofile"
output: rmarkdown::html_vignette
editor_options: 
  chunk_output_type: console
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  eval = TRUE,
  comment = "#>",
  fig.show = "hold",
  fig.align = "center",
  out.width = "70%", 
  fig.width = 9.5, 
  fig.asp = 0.7,
  cache = TRUE
)

options(
  CRAN = "https://cran.rstudio.com/",
  forestgeo = "https://forestgeo.github.io/drat/"
)

update.packages()
```

The [basic instructions to intall __fgeo__](https://forestgeo.github.io/fgeo/#installation) show you how to set the "repos" option to include the CRAN-like repository that serves __fgeo__ packages, i.e. <https://forestgeo.github.io/drat>. But that approach is ephemeral: You will need to set "repos" again next time you want to install or update __fgeo__ packages. For a persistent effect you can instead set the "repos" option in the .Rprofile file (see [`usethis::edit_r_profile()`](https://usethis.r-lib.org/reference/edit.html)). For example, my .Rprofile contains this code:

```R
.First <- function() {
  options(
    CRAN = "https://cran.rstudio.com/",
    forestgeo = "https://forestgeo.github.io/drat/"
  )
}
```

The "repos" option will now include the URL <https://forestgeo.github.io/drat/> in _every_ R session.

```{r}
getOption("repos")
```

`getOption("repos")` gives the URLs where `install.packages()` searches for packages by default -- meaning that you can now install __fgeo__ packages in any R session directly.

```{r}
install.packages("fgeo")
```

The same is true for `update.packages()`. To show this let's first install an older version of __fgeo.tool__.

```{r}
devtools::install_github("forestgeo/fgeo.tool@1.1.0", force = TRUE)
```

`update.packages()` updates all packages but here the only package that will update is __fgeo.tool__  because all of my other packages are already up to date.

```{r}
update.packages()
```
